---
apiVersion: v1
kind: ConfigMap
metadata:
  name: linkshortener-config
  namespace: linkshortener
data:
  NODE_ENV: "development"
  PORT: "3000"
  
  DB_HOST: "linkshortener-db"
  DB_PORT: "5432"
  
  REDIS_HOST: "linkshortener-redis"
  REDIS_PORT: "6379"
  
  JWT_EXPIRATION: "7d"
  
  RATE_LIMIT_WINDOW: "900000"
  RATE_LIMIT_MAX_REQUESTS: "100"
  
  SUBSCRIPTION_LIMITS: |
    {
      "free": {
        "maxLinks": 10,
        "maxCustomAliases": 2,
        "analyticsRetentionDays": 7,
        "rateLimitPerMinute": 10
      },
      "pro": {
        "maxLinks": 1000,
        "maxCustomAliases": 100,
        "analyticsRetentionDays": 90,
        "rateLimitPerMinute": 100
      },
      "enterprise": {
        "maxLinks": -1,
        "maxCustomAliases": -1,
        "analyticsRetentionDays": 365,
        "rateLimitPerMinute": 1000
      }
    }
  
  REACT_APP_API_URL: "http://linkshortener-backend:3000"
